(()=>{"use strict";var e={269:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),s=t(645),u=t.n(s)()(a());u.push([e.id,".auth-button-container {\n  text-align: center;\n}\n\n.auth-button {\n  width: 200px;\n  height: 50px;\n  border-radius: 20px;\n  background-color: #fff;\n  color: #424d6b;\n  border: none;\n  outline: none;\n  font-size: 22px;\n  cursor: pointer;\n}\n",""]);const o=u},254:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),s=t(645),u=t.n(s)()(a());u.push([e.id,".auth-form {\n  display: block;\n  flex-direction: column;\n  align-items: flex-start;\n}\n",""]);const o=u},767:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),s=t(645),u=t.n(s)()(a());u.push([e.id,".header {\n  width: 100%;\n  height: 150px;\n  background-color: #424d6b;\n  padding-top: 20px !important;\n}\n\n.header > .logo {\n  width: 100%;\n  height: 130px;\n}\n\n.logo img {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n",""]);const o=u},105:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),s=t(645),u=t.n(s)()(a());u.push([e.id,".input-group {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 20px;\n}\n\n.input-group label {\n  margin-bottom: 10px;\n  font-size: 18px;\n}\n\n.input-group input {\n  height: 50px;\n  border-radius: 20px;\n  padding-left: 10px;\n  outline: none;\n  border: none;\n  font-size: 22px;\n  color: #424d6b;\n  background-color: #fff;\n}\n.input-group input:active {\n  color: #424d6b;\n}\n",""]);const o=u},655:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),s=t(645),u=t.n(s)()(a());u.push([e.id,".schedule {\n  border: 1px dotted #f0d787;\n  margin: 10px 5px;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  background-color: #45506d;\n  color: #fff;\n  width: 30%;\n  min-height: 200px;\n}\n.trash {\n  cursor: pointer;\n}\n.schedule > div {\n  margin: 20px 0 20px 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px dotted #f0d787;\n  padding: 0 5px 5px 5px;\n}\n.schedule > div > aside {\n  display: flex;\n  flex-direction: column;\n}\n.schedule time,\n.schedule span {\n  font-style: italic;\n  font-size: 12px;\n}\n.schedule span {\n  margin-bottom: 5px;\n}\n\n.schedule p {\n  font-size: 0.9em;\n  line-height: 1.7;\n  letter-spacing: 1.6px;\n  margin: 10px 5px 0 5px;\n}\n\n@media only screen and (max-width: 600px) {\n  .schedule {\n    width: 46%;\n  }\n}\n@media only screen and (max-width: 400px) {\n  .schedule {\n    width: 98%;\n  }\n}\n",""]);const o=u},272:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),s=t(645),u=t.n(s)()(a());u.push([e.id,".schedules-list {\n  width: 100%;\n  min-height: 50%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n}\n",""]);const o=u},361:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),s=t(645),u=t.n(s)()(a());u.push([e.id,".schedules-page {\n  background-color: #fff;\n  font-size: 16px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n}\n.schedules-page > button {\n  background-color: #f0d787;\n  color: #45506d;\n  font-size: 14px;\n  letter-spacing: 1.6px;\n  border: none;\n  outline: none;\n  margin-bottom: 30px;\n  cursor: pointer;\n}\n\n.form-container {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.form-container > form {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n}\n.task-input {\n  width: 400px;\n  height: 40px;\n  border-radius: 20px;\n  outline: none;\n  border: 1px solid #fac937;\n  padding-left: 10px;\n  color: #45506d;\n  font-size: 18px;\n}\n.task-input::placeholder {\n  font-size: 18px;\n  color: #45506d;\n}\n.add-task {\n  cursor: pointer;\n}\n\n@media only screen and (max-width: 500px) {\n  .task-input {\n    width: 72vw;\n  }\n}\n",""]);const o=u},364:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),s=t(645),u=t.n(s)()(a());u.push([e.id,".auth-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n}\n\n.auth-container a {\n  margin-top: 30px;\n  text-decoration: none;\n  color: #424d6b;\n  font-size: 22px;\n  border-bottom: 2px dotted #e6b20a;\n}\n\n.auth {\n  width: 50%;\n  background-color: #424d6b;\n  height: 300px;\n  margin-top: 30px;\n  color: #fff;\n  border-radius: 20px;\n}\n\n@media only screen and (max-width: 600px) {\n  .auth {\n    width: 80%;\n  }\n}\n\n@media only screen and (max-width: 400px) {\n  .auth {\n    margin-top: 100px;\n    width: 95vw;\n  }\n}\n",""]);const o=u},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,a,s){"string"==typeof e&&(e=[[null,e,void 0]]);var u={};if(r)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(u[c]=!0)}for(var i=0;i<e.length;i++){var l=[].concat(e[i]);r&&u[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),n.push(l))}},n}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var s={},u=[],o=0;o<e.length;o++){var c=e[o],i=r.base?c[0]+r.base:c[0],l=s[i]||0,d="".concat(i," ").concat(l);s[i]=l+1;var p=t(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)n[p].references++,n[p].updater(f);else{var h=a(f,r);r.byIndex=o,n.splice(o,0,{identifier:d,updater:h,references:1})}u.push(d)}return u}function a(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,a){var s=r(e=e||[],a=a||{});return function(e){e=e||[];for(var u=0;u<s.length;u++){var o=t(s[u]);n[o].references--}for(var c=r(e,a),i=0;i<s.length;i++){var l=t(s[i]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}s=c}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var s=t.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var s=n[r]={id:r,exports:{}};return e[r](s,s.exports,t),s.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{const e=require("@babel/runtime/helpers/asyncToGenerator");var n=t.n(e);const r=require("@babel/runtime/regenerator");var a=t.n(r);const s=require("dotenv"),u=require("express");var o=t.n(u);const c=require("react");var i=t.n(c);const l=require("morgan");var d=t.n(l);const p=require("mongoose"),f=require("debug");var h=t.n(f);const m=require("cors");var v=t.n(m);const g=require("express-session");var b=t.n(g);const y=require("react-router-config"),x=require("connect-mongodb-session");var w=t.n(x);const S=require("@babel/runtime/helpers/defineProperty");var E=t.n(S);const O=require("react-redux");var k=t(379),A=t.n(k),j=t(795),P=t.n(j),T=t(569),q=t.n(T),C=t(565),Z=t.n(C),D=t(216),N=t.n(D),R=t(589),I=t.n(R),_=t(767),z={};z.styleTagTransform=I(),z.setAttributes=Z(),z.insert=q().bind(null,"head"),z.domAPI=P(),z.insertStyleElement=N(),A()(_.Z,z),_.Z&&_.Z.locals&&_.Z.locals;const L=function(){return i().createElement("div",{className:"header"},i().createElement("div",{className:"logo"},i().createElement("img",{src:"/slogo.png",alt:"page logo"})))},M=require("@reduxjs/toolkit"),U=require("axios");var F=t.n(U);require("redux-logger");const H=require("@babel/runtime/helpers/toConsumableArray");var B=t.n(H),G=(0,M.createAsyncThunk)("schedules/get_schedules",function(){var e=n()(a().mark((function e(n,t){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F().get("".concat(V,"/schedules"));case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),W=(0,M.createAsyncThunk)("schedules/add_schedule",function(){var e=n()(a().mark((function e(n,t){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F().post("".concat(V,"/schedules"),n);case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),J=(0,M.createAsyncThunk)("schedules/remove_schedules",function(){var e=n()(a().mark((function e(n,t){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F().delete("".concat(V,"/schedules/").concat(n));case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Y=(0,M.createSlice)({name:"auth",initialState:{schedules:[]},reducers:{},extraReducers:function(e){e.addCase(G.fulfilled,(function(e,n){e.schedules=n.payload})),e.addCase(W.fulfilled,(function(e,n){e.schedules=[n.payload].concat(B()(e.schedules))})),e.addCase(J.fulfilled,(function(e,n){e.schedules=e.schedules.filter((function(e){return e._id!==n.payload.scheduleId}))}))}}),K=Y.reducer;Y.actions;const Q=K;var V="http://localhost:3000/api",X=(0,M.createAsyncThunk)("auth/sign_up",function(){var e=n()(a().mark((function e(n,t){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F().post("".concat(V,"/auth/signup"),n);case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),$=(0,M.createAsyncThunk)("auth/login",function(){var e=n()(a().mark((function e(n,t){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F().post("".concat(V,"/auth/login"),n);case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),ee=(0,M.createAsyncThunk)("auth/logout",function(){var e=n()(a().mark((function e(n,t){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F().get("".concat(V,"/auth/logout"));case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),ne=(0,M.createAsyncThunk)("auth/get_profile",function(){var e=n()(a().mark((function e(n,t){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F().get("".concat(V,"/auth/profile"));case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),te=(0,M.createSlice)({name:"auth",initialState:{user:null,error:{signupError:"",loginError:""}},reducers:{},extraReducers:function(e){e.addCase(X.fulfilled,(function(e,n){e.user=n.payload,console.log(e.user)})),e.addCase(X.rejected,(function(e,n){e.error.signupError=n.meta.arg.username+" "+n.meta.requestStatus})),e.addCase($.fulfilled,(function(e,n){e.user=n.payload})),e.addCase(ne.fulfilled,(function(e,n){e.user=n.payload})),e.addCase(ee.fulfilled,(function(e,n){e.user=n.payload}))}}),re=te.reducer;te.actions;const ae=re,se=require("@babel/runtime/helpers/slicedToArray");var ue=t.n(se);const oe=require("@babel/runtime/helpers/extends");var ce=t.n(oe);const ie=require("react-bootstrap-icons");var le=t(655),de={};de.styleTagTransform=I(),de.setAttributes=Z(),de.insert=q().bind(null,"head"),de.domAPI=P(),de.insertStyleElement=N(),A()(le.Z,de),le.Z&&le.Z.locals&&le.Z.locals;const pe=function(e){var n=e.createdAt,t=e.schedule,r=e._id,a=(0,O.useDispatch)(),s=function(e){var n=new Date(e);return{date:n.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),time:n.toLocaleTimeString()}}(n),u=s.date,o=s.time;return i().createElement("div",{className:"schedule"},i().createElement("div",null,i().createElement("aside",null,i().createElement("span",null,u),i().createElement("time",null,o)),i().createElement(ie.Trash,{className:"trash",onClick:function(){return a(J(r))}})),i().createElement("p",null,t))};var fe=t(272),he={};he.styleTagTransform=I(),he.setAttributes=Z(),he.insert=q().bind(null,"head"),he.domAPI=P(),he.insertStyleElement=N(),A()(fe.Z,he),fe.Z&&fe.Z.locals&&fe.Z.locals;const me=function(e){var n=e.schedules;return i().createElement("div",{className:"schedules-list"},n.map((function(e){return i().createElement(pe,ce()({key:e._id},e))})))},ve=require("react-router-dom");var ge=t(361),be={};be.styleTagTransform=I(),be.setAttributes=Z(),be.insert=q().bind(null,"head"),be.domAPI=P(),be.insertStyleElement=N(),A()(ge.Z,be),ge.Z&&ge.Z.locals&&ge.Z.locals;const ye={component:(xe=function(){var e=(0,c.useState)({schedule:""}),n=ue()(e,2),t=n[0],r=n[1];(0,c.useEffect)((function(){a(G())}),[]);var a=(0,O.useDispatch)(),s=(0,O.useSelector)((function(e){return e.schedules.schedules}));return i().createElement("div",{className:"schedules-page"},i().createElement("button",{onClick:function(){return a(ee())}},"Logout"),i().createElement("div",{className:"form-container"},i().createElement("form",null,i().createElement("input",{name:"task",value:t.schedule,placeholder:"Add Note",onChange:function(e){var n=e.target,t=(n.name,n.value);r({schedule:t})},required:!0,className:"task-input"}),i().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"2em",height:"2em",fill:"#fac937",className:"add-task",onClick:function(e){e.preventDefault(),""!==t.schedule&&(a(W(t)),r({schedule:""}))}},i().createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),i().createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})))),i().createElement(me,{schedules:s}))},function(e){return null===(0,O.useSelector)((function(e){return e.auth.user}))?i().createElement(ve.Redirect,{to:"/login"}):i().createElement(xe,e)}),loadData:function(e){return e.dispatch(G())}};var xe,we=t(254),Se={};Se.styleTagTransform=I(),Se.setAttributes=Z(),Se.insert=q().bind(null,"head"),Se.domAPI=P(),Se.insertStyleElement=N(),A()(we.Z,Se),we.Z&&we.Z.locals&&we.Z.locals;const Ee=function(e){var n=e.onSubmit,t=e.children;return i().createElement("form",{className:"auth-form",onSubmit:n},t)};var Oe=t(105),ke={};function Ae(e){var n=e.type,t=e.name,r=e.value,a=e.onChange;return i().createElement("div",{className:"input-group"},i().createElement("label",{htmlFor:t},t),i().createElement("input",{id:t,type:n,name:t,value:r,onChange:a,required:!0}))}ke.styleTagTransform=I(),ke.setAttributes=Z(),ke.insert=q().bind(null,"head"),ke.domAPI=P(),ke.insertStyleElement=N(),A()(Oe.Z,ke),Oe.Z&&Oe.Z.locals&&Oe.Z.locals;var je=t(269),Pe={};Pe.styleTagTransform=I(),Pe.setAttributes=Z(),Pe.insert=q().bind(null,"head"),Pe.domAPI=P(),Pe.insertStyleElement=N(),A()(je.Z,Pe),je.Z&&je.Z.locals&&je.Z.locals;const Te=function(e){var n=e.text;return i().createElement("div",{className:"auth-button-container"},i().createElement("button",{type:"submit",className:"auth-button"},n))};function qe(e){return function(n){return null===(0,O.useSelector)((function(e){return e.auth.user}))?i().createElement(e,null):i().createElement(ve.Redirect,{to:"/"})}}var Ce=t(364),Ze={};function De(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ne(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?De(Object(t),!0).forEach((function(n){E()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):De(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}Ze.styleTagTransform=I(),Ze.setAttributes=Z(),Ze.insert=q().bind(null,"head"),Ze.domAPI=P(),Ze.insertStyleElement=N(),A()(Ce.Z,Ze),Ce.Z&&Ce.Z.locals&&Ce.Z.locals;const Re=qe((function(){var e=(0,c.useState)({username:"",password:""}),n=ue()(e,2),t=n[0],r=n[1],a=(0,O.useDispatch)(),s=(0,ve.useHistory)(),u=function(e){var n=e.target,t=n.name,a=n.value;r((function(e){return Ne(Ne({},e),{},E()({},t,a))}))};return i().createElement("div",{className:"auth-container"},i().createElement("div",{className:"auth"},i().createElement(Ee,{onSubmit:function(e){e.preventDefault(),a($(t)),s.push("/"),r({username:"",password:""})}},i().createElement(Ae,{type:"text",name:"username",value:t.username,onChange:u}),i().createElement(Ae,{type:"password",name:"password",value:t.password,onChange:u}),i().createElement(Te,{text:"Login"}))),i().createElement(ve.Link,{to:"/signup"},"Don't Have An Account? Signup"))}));function Ie(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _e(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ie(Object(t),!0).forEach((function(n){E()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ie(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const ze=qe((function(){var e=(0,c.useState)({username:"",password:""}),n=ue()(e,2),t=n[0],r=n[1],a=(0,O.useDispatch)(),s=(0,ve.useHistory)(),u=function(e){var n=e.target,t=n.name,a=n.value;r((function(e){return _e(_e({},e),{},E()({},t,a))}))};return i().createElement("div",{className:"auth-container"},i().createElement("div",{className:"auth"},i().createElement(Ee,{onSubmit:function(e){e.preventDefault(),console.log("hello Signup"),a(X(t)),r({username:"",password:""}),s.push("/")}},i().createElement(Ae,{type:"text",name:"username",value:t.username,onChange:u}),i().createElement(Ae,{type:"password",name:"password",value:t.password,onChange:u}),i().createElement(Te,{text:"Signup"}))),i().createElement(ve.Link,{to:"/login"},"Already Have An Account? Login"))}));function Le(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Me(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Le(Object(t),!0).forEach((function(n){E()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Le(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Ue=[{component:function(e){var n=e.route,t=(0,O.useDispatch)();return(0,c.useEffect)((function(){t(ne())}),[]),i().createElement("div",null,i().createElement(L,null),(0,y.renderRoutes)(n.routes))},routes:[Me(Me({},ye),{},{path:"/",exact:!0}),{component:Re,path:"/login"},{component:ze,path:"/signup"}]}],Fe=require("react-dom/server"),He=require("serialize-javascript");var Be=t.n(He);const Ge=require("passport");var We=t.n(Ge);const Je=require("passport-local"),Ye=require("bcrypt");(0,s.config)(),h()("index:authModel");var Ke=new p.Schema({username:{type:String,require:!0,unique:!0},password:{type:String,require:!0}},{timestamps:!0});Ke.pre("save",function(){var e=n()(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isModified("password")){e.next=4;break}return e.next=3,(0,Ye.hash)(this.password,+process.env.SALT_ROUND);case 3:this.password=e.sent;case 4:n();case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()),Ke.methods.verifyPassword=function(){var e=n()(a().mark((function e(n,t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Ye.compare)(n,t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();const Qe=(0,p.model)("User",Ke);h()("index:localStrategy"),h()("index:authRoutes");var Ve=new p.Schema({username:{type:String,require:!0},schedule:{type:String,require:!0}},{timestamps:!0});const Xe=(0,p.model)("Schedule",Ve),$e=require("@babel/runtime/helpers/createClass");var en=t.n($e);const nn=require("@babel/runtime/helpers/classCallCheck");var tn=t.n(nn);const rn=require("@babel/runtime/helpers/inherits");var an=t.n(rn);const sn=require("@babel/runtime/helpers/possibleConstructorReturn");var un=t.n(sn);const on=require("@babel/runtime/helpers/getPrototypeOf");var cn=t.n(on);const ln=require("@babel/runtime/helpers/wrapNativeSuper");const dn=function(e){an()(a,e);var n,t,r=(n=a,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=cn()(n);if(t){var a=cn()(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return un()(this,e)});function a(e,n){var t;return tn()(this,a),(t=r.call(this)).msg=e,t.status=n,t}return en()(a)}(t.n(ln)()(Error));var pn=h()("index:scheduleController");const fn=function(){var e=function(){var e=n()(a().mark((function e(n,t,r){var s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.user.username,e.prev=1,e.next=4,Xe.find({username:s});case 4:return u=e.sent.reverse(),e.abrupt("return",t.status(200).json(u));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n,t,r){return e.apply(this,arguments)}}(),t=function(){var e=n()(a().mark((function e(n,t,r){var s,u,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=n.user.username,u=n.body.schedule,e.next=5,Xe.create({username:s,schedule:u});case 5:return o=e.sent,e.abrupt("return",t.status(201).json(o));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",r(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n,t,r){return e.apply(this,arguments)}}(),r=function(){var e=n()(a().mark((function e(n,t,r){var s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=n.user.username,e.next=4,Xe.deleteMany({username:s});case 4:return u=e.sent,pn(u),e.abrupt("return",t.status(200).json(u));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",r(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n,t,r){return e.apply(this,arguments)}}(),s=function(){var e=n()(a().mark((function e(n,t,r){var s,u,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=n.user.username,u=n.params.scheduleId,e.next=5,Xe.findOne({username:s,_id:u});case 5:if(o=e.sent){e.next=8;break}throw new dn("Schedule Not found.",404);case 8:return n.foundSchedule=o,e.abrupt("return",r());case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",r(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n,t,r){return e.apply(this,arguments)}}(),u=function(){var e=n()(a().mark((function e(n,t,r){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.foundSchedule,e.abrupt("return",t.status(200).json(s));case 2:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),o=function(){var e=n()(a().mark((function e(n,t,r){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=n.foundSchedule,Object.entries(n.body).forEach((function(e){var n=ue()(e,2),t=n[0],r=n[1];s[t]=r})),e.next=5,s.save();case 5:return e.abrupt("return",t.status(200).json(s));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",r(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,t,r){return e.apply(this,arguments)}}(),c=function(){var e=n()(a().mark((function e(n,t,r){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.foundSchedule,e.prev=1,e.next=4,s.deleteOne();case 4:return e.abrupt("return",t.status(200).json({scheduleId:s._id}));case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",r(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n,t,r){return e.apply(this,arguments)}}();return{verifyLoginStatusMiddleware:function(e,n,t){try{if(e.isAuthenticated())return t();throw new dn("Please Login To Continue.",403)}catch(e){return t(e)}},getAllSchedules:e,addSchedule:t,deleteAllSchedule:r,getASchedule:u,getAScheduleMiddleware:s,updateSchedule:o,deleteSchedule:c}}();h()("index:errorHandler"),(0,s.config)();var hn,mn=process.env,vn=mn.PORT,gn=mn.MONGO_LOCAL,bn=mn.SESSION_SECRET,yn=o()(),xn=h()("index"),wn=new(w()(b()))({uri:gn,collection:"scheduleSessions"});yn.use(v()()),yn.use(b()({secret:bn,resave:!1,saveUninitialized:!1,store:wn,cookie:{maxAge:290304e5}})),function(e){e.use(We().initialize()),e.use(We().session()),We().serializeUser((function(e,n){return n(null,e)})),We().deserializeUser((function(e,n){return n(null,e)})),We().use("signup",new Je.Strategy({usernameField:"username",passwordField:"password",passReqToCallback:!0},function(){var e=n()(a().mark((function e(n,t,r,s){var u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qe.findOne({username:t});case 3:if(!e.sent){e.next=6;break}return e.abrupt("return",s({message:"Username Already Exist",status:403},!1));case 6:return e.next=8,Qe.create({username:t,password:r});case 8:return u=e.sent,e.abrupt("return",s(null,u,{message:"Successfully Registered A New Account."}));case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",s(e.t0,!1));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n,t,r,a){return e.apply(this,arguments)}}())),We().use("login",new Je.Strategy({usernameField:"username",passwordField:"password",passReqToCallback:!0},function(){var e=n()(a().mark((function e(n,t,r,s){var u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qe.findOne({username:t});case 3:if(u=e.sent){e.next=6;break}return e.abrupt("return",s({message:"Wrong Username Provided."},!1));case 6:return e.next=8,u.verifyPassword(r,u.password);case 8:if(!e.sent){e.next=11;break}return e.abrupt("return",s(null,u,{message:"Login Successful"}));case 11:return e.abrupt("return",s({message:"Wrong Password Provided."},!1));case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",s(e.t0,!1));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(n,t,r,a){return e.apply(this,arguments)}}()))}(yn),yn.use(d()("dev")),yn.use(o().urlencoded({extended:!0})),yn.use(o().json()),yn.use(o().static("public")),yn.use("/api/auth",((hn=(0,u.Router)()).route("/signup").post((function(e,n,t){try{We().authenticate("signup",(function(r,a,s){if(r)return t(r);e.login(a,(function(e){if(e)return t(e);var r=a.username,s=a._id,u=a.createdAt;return n.status(201).json({username:r,_id:s,createdAt:u})}))}))(e,n,t)}catch(e){t(e)}})),hn.route("/login").post((function(e,n,t){We().authenticate("login",(function(r,a,s){if(r)return t(r);e.login(a,(function(e){if(e)return t(e);var r=a.username,s=a._id,u=a.createdAt;return n.status(200).json({username:r,_id:s,createdAt:u})}))}))(e,n,t)})),hn.route("/logout").get((function(e,n,t){e.logout((function(e){return e?t(e):n.status(200).json(null)}))})),hn.route("/profile").get((function(e,n,t){if(e.isAuthenticated()){var r=e.user,a=r.username,s=r._id,u=r.createdAt;return n.status(200).json({username:a,_id:s,createdAt:u})}return n.status(200).json(null)})),hn)),yn.use("/api/schedules",function(){var e=(0,u.Router)(),n=fn.getASchedule,t=fn.getAScheduleMiddleware,r=fn.verifyLoginStatusMiddleware,a=fn.addSchedule,s=fn.deleteAllSchedule,o=fn.getAllSchedules,c=fn.updateSchedule,i=fn.deleteSchedule;return e.use(r),e.route("/").get(o).post(a).delete(s),e.route("/:scheduleId").all(t).get(n).patch(c).delete(i),e}()),yn.use((function(e,n,t,r){var a=new dn(e.message||e.msg,e.status||500);return t.status(a.status||500).json({err:a})})),yn.get("*",(function(e,n,t){var r=(0,M.configureStore)({reducer:{auth:ae,schedules:Q}}),a=(0,y.matchRoutes)(Ue,e.path).map((function(e){var n=e.route;return n.loadData?n.loadData(r):Promise.resolve(null)}));Promise.all(a).then((function(t){var a=function(e,n,t){var r=(0,Fe.renderToString)(i().createElement(O.Provider,{store:e},i().createElement(ve.StaticRouter,{context:{},location:t.path},(0,y.renderRoutes)(Ue))));return'\n            <!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Scheduler</title>\n    <link rel="preconnect" href="https://fonts.googleapis.com">\n<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\n<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&family=Prompt:wght@100;200;300;400;500;600;700;900&display=swap" rel="stylesheet">\n    <link rel="stylesheet" href="/styles/styles.css">\n</head>\n<body>\n   \n    <div id="root">'.concat(r,"</div>\n\n    <script>\n    window.INITIAL_STATE=").concat(Be()(e.getState()),"\n        \n    <\/script>\n    <script src='/bundle.js'><\/script>\n\n</body>\n</html>\n\n        ")}(r,0,e);return n.status(200).send(a)})).catch((function(e){return t(e)}))})),yn.listen(vn,(function(){var e;xn("Server Is Running On Port: ".concat(vn)),(e=n()(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.connect)(gn);case 2:xn("Connection To Database Successful.");case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})()}))})()})();